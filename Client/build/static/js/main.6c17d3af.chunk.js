(this["webpackJsonpnews-app"]=this["webpackJsonpnews-app"]||[]).push([[0],{25:function(e,t,c){},26:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(18),i=c.n(s),l=(c(25),c(26),c(19)),r=c(3),o=c(2),d=c.n(o),j=c(7),u=c(4),b=c(0);function h(e){var t=Object(n.useState)(e.news),c=Object(u.a)(t,2);c[0],c[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"container-fluid py-5 edit-news-cont ","data-toggle":"modal","data-target":"#exampleModal"+e.news._id,children:Object(b.jsxs)("div",{className:"row ",children:[Object(b.jsx)("div",{className:"col-8  text-center limit",children:Object(b.jsxs)("h3",{class:"display-5 news-title",children:[e.news.title," "]})}),Object(b.jsx)("div",{className:"col-2 ",children:Object(b.jsx)("h6",{children:Object(b.jsx)("span",{class:"badge badge-pill badge-dark",children:e.news.field})})}),Object(b.jsxs)("div",{className:"col-12",children:[Object(b.jsx)("h5",{children:e.news.date}),Object(b.jsx)("p",{children:e.news.content.substr(0,50)+" ..."}),Object(b.jsx)("img",{src:"http://localhost:9000/"+e.news.photos.substr(2),class:"img-fluid rounded mx-auto d-block",alt:"Responsive image"})]})]})}),Object(b.jsx)("div",{className:"modal fade",id:"exampleModal"+e.news._id,tabIndex:-1,role:"dialog","aria-labelledby":"exampleModalLabel"+e.news._id,"aria-hidden":"true",children:Object(b.jsx)("div",{className:"modal-dialog",role:"document",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header d-flex text-center",children:[Object(b.jsx)("div",{className:"col-8  text-center limit",children:Object(b.jsx)("h5",{className:"modal-title",id:"exampleModalLabel"+e.news._id,children:e.news.title})}),Object(b.jsx)("div",{className:"col-2 ",children:Object(b.jsx)("h6",{children:Object(b.jsx)("span",{class:"badge badge-pill badge-dark",children:e.news.field})})}),Object(b.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(b.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(b.jsx)("div",{className:"modal-body",children:Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsx)("div",{className:"row ",children:Object(b.jsxs)("div",{className:"col-12",children:[Object(b.jsx)("h5",{children:e.news.date}),Object(b.jsx)("p",{children:e.news.content}),Object(b.jsx)("img",{src:"http://localhost:9000/"+e.news.photos.substr(2),class:"img-fluid ",alt:"Responsive image"})]})})})})]})})})]})}function m(e){return Object(b.jsx)("div",{className:"container d-flex justify-content-center",children:Object(b.jsxs)("div",{className:"row text-center",children:[Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("div",{className:"input-group mb-3",children:[Object(b.jsx)("div",{className:"input-group-prepend",children:Object(b.jsx)("span",{className:"input-group-text  badge-dark",id:"inputGroup-sizing-default",children:"Page size"})}),Object(b.jsx)("input",{type:"number",className:"form-control","aria-label":"Default","aria-describedby":"inputGroup-sizing-default",onChange:function(t){e.changeLimitInf(t.target.value)}})]})}),Object(b.jsx)("div",{className:"col ",children:Object(b.jsxs)("div",{className:"input-group mb-3",children:[Object(b.jsx)("div",{className:"input-group-prepend",children:Object(b.jsx)("span",{className:"input-group-text  badge-dark",id:"inputGroup-sizing-default",children:"Sort"})}),Object(b.jsxs)("select",{class:"custom-select",children:[Object(b.jsx)("option",{value:1,selected:!0,onClick:function(){e.sort("date")},children:"Date"}),Object(b.jsx)("option",{value:2,onClick:function(){e.sort("field")},children:"Field"})]})]})}),Object(b.jsx)("div",{className:"col ",children:Object(b.jsxs)("div",{className:"input-group mb-3",children:[Object(b.jsx)("div",{className:"input-group-prepend",children:Object(b.jsx)("span",{className:"input-group-text  badge-dark",id:"inputGroup-sizing-default",children:"Filer by field"})}),Object(b.jsxs)("select",{class:"custom-select",id:"inputGroupSelect01",children:[Object(b.jsx)("option",{value:-1,onClick:function(){e.filter("all")},children:"all"}),["Sports","Economie","Politique"].map((function(t,c){return Object(b.jsx)("option",{value:c,onClick:function(){e.filter(t)},children:t})}))]})]})})]})})}function p(e){return Object(b.jsx)("div",{className:"container d-flex justify-content-center",children:Object(b.jsx)("nav",{"aria-label":"Page navigation example",children:Object(b.jsx)("ul",{className:"pagination",children:Object(b.jsx)("nav",{"aria-label":"Page navigation example",children:Object(b.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(b.jsx)("li",{className:"page-item",children:Object(b.jsx)("a",{className:"page-link",href:"#",onClick:function(t){e.setPager(-1)},children:"Previous"})}),Object(b.jsx)("li",{className:"page-item",children:Object(b.jsx)("a",{className:"page-link",href:"#",onClick:function(t){e.setPager(1)},children:"Next"})})]})})})})})}function x(){var e=Object(n.useState)(1),t=Object(u.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(10),i=Object(u.a)(s,2),l=i[0],r=i[1],o=Object(n.useState)("all"),x=Object(u.a)(o,2),O=x[0],f=x[1],v=Object(n.useState)("date"),g=Object(u.a)(v,2),N=g[0],w=g[1],y=Object(n.useState)([]),k=Object(u.a)(y,2),C=k[0],S=k[1],F=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="http://localhost:9000/news?","all"!=O&&(t+="filter="+O),t+="&page="+c+"&limit="+l+"&sortby="+N,e.next=5,fetch(t);case 5:return n=e.sent,e.next=8,n.json();case 8:a=e.sent,console.log(a),S(a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=C.map((function(e){return Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)(h,{news:e})})}));Object(n.useEffect)(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F();case 1:case"end":return e.stop()}}),e)}))),[O,N,c,l]);var P=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c+t>0&&a(c+t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"jumbotron jumbotron-fluid text-center",children:Object(b.jsx)("h1",{class:"display-1",children:"this is reading news page"})}),Object(b.jsxs)("div",{className:"container  justify-content-center",children:[Object(b.jsx)("div",{className:"row text-center",children:Object(b.jsx)(m,{changeLimitInf:P,filter:function(e){f(e)},sort:function(e){w(e)}})}),Object(b.jsx)("div",{className:"row text-center  my-3",children:E}),Object(b.jsx)(p,{page:c,setPager:I})]})]})}function O(){return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"container-fluid login-card  d-flex justify-content-center",children:Object(b.jsxs)("div",{className:"row d-flex text-center ",children:[Object(b.jsx)("div",{className:"col-12 py-3 ",children:Object(b.jsx)("h1",{children:"Welcome to news App"})}),Object(b.jsx)("div",{className:"col-6 py-3 ",children:Object(b.jsx)("button",{type:"button",className:"btn btn-dark btn-lg",onClick:function(){window.location.href="/home"},children:"Log as normal user"})}),Object(b.jsx)("div",{className:"col-6  py-3 ",children:Object(b.jsx)("button",{type:"button",className:"btn btn-outline-dark btn-lg",onClick:function(){window.location.href="/admin"},children:"Log as editor"})})]})})})}var f=c(6);function v(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),c=(t[0],t[1]),a=Object(n.useState)({title:"",content:"",field:"",date:""}),s=Object(u.a)(a,2),i=s[0],l=s[1],r=function(){var e=Object(j.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("image-file").files[0],c=new FormData,console.log(t),c.append("image",t),c.append("data",JSON.stringify(i)),e.next=7,fetch("http://localhost:9000/news",{method:"POST",body:c});case 7:window.location.reload();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"container d-flex justify-content-center py-2",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{type:"button",className:"btn btn-light btn-lg add-news-btn","data-toggle":"modal","data-target":"#exampleModal",children:"Add News"}),Object(b.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:-1,role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(b.jsx)("div",{className:"modal-dialog",role:"document",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"What's Up ?"}),Object(b.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(b.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(b.jsx)("div",{className:"modal-body",children:Object(b.jsxs)("form",{children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Title of the news"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter title",onChange:function(e){return l((function(t){return Object(f.a)(Object(f.a)({},t),{},{title:e.target.value})}))}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"birthday",children:"Really? When ?"}),Object(b.jsx)("input",{type:"date",className:"form-control text-center",id:"birthday",name:"birthday",onChange:function(e){return l((function(t){return Object(f.a)(Object(f.a)({},t),{},{date:e.target.value})}))}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"exampleFormControlTextarea1",children:"News Body, What's happening?"}),Object(b.jsx)("textarea",{className:"form-control rounded-0",id:"exampleFormControlTextarea1",rows:10,onChange:function(e){return l((function(t){return Object(f.a)(Object(f.a)({},t),{},{content:e.target.value})}))},defaultValue:""})]}),Object(b.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(b.jsx)("select",{class:"custom-select",id:"inputGroupSelect01add",onClick:function(e){return l((function(t){return Object(f.a)(Object(f.a)({},t),{},{field:e.target.value})}))},children:["Sports","Economie","Politique"].map((function(e,t){return e==i.field?Object(b.jsx)("option",{value:e,selected:!0,children:e}):Object(b.jsx)("option",{value:e,children:e})}))})}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"image-file",children:"Add a photo"}),Object(b.jsx)("input",{type:"file",className:"form-control-file",id:"image-file",onChange:function(e){c(e.target.value)}})]})]})}),Object(b.jsxs)("div",{className:"modal-footer d-flex justify-content-center",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:r,children:" Post"}),Object(b.jsx)("button",{type:"button",className:"btn btn-outline-secondary","data-dismiss":"modal",children:"Close"})]})]})})})]})})}function g(e){var t=Object(n.useState)(null),c=Object(u.a)(t,2),a=(c[0],c[1],Object(n.useState)(e.news)),s=Object(u.a)(a,2),i=s[0],l=s[1],r=function(){var e=Object(j.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new FormData,c=document.getElementById("image-file"+i._id).files[0],console.log(c),t.append("image",c),t.append("data",JSON.stringify(i)),e.next=7,fetch("http://localhost:9000/news/"+i._id,{method:"PUT",body:t});case 7:window.location.reload();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:9000/news/"+i._id,{method:"DELETE"});case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"container-fluid d-flex justify-content-center my-5 edit-news-cont",children:Object(b.jsxs)("form",{children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:i.id+"exampleInputEmail1",children:"Title of the news"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:i.id+"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter title",defaultValue:i.title,onChange:function(e){l((function(t){return Object(f.a)(Object(f.a)({},t),{},{title:e.target.value})}))}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"birthday",children:"Really? When ?"}),Object(b.jsx)("input",{type:"date",className:"form-control text-center",id:"birthday",name:"birthday",defaultValue:i.date,onChange:function(e){return l((function(t){return Object(f.a)(Object(f.a)({},t),{},{date:e.target.value})}))}})]}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("img",{src:"http://localhost:9000/"+e.news.photos.substr(2),class:"img-fluid rounded mx-auto d-block",alt:"Responsive image"})}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"exampleFormControlTextarea1",children:"News Body, What's happening?"}),Object(b.jsx)("textarea",{className:"form-control rounded-0",id:"exampleFormControlTextarea1",rows:10,defaultValue:i.content,onChange:function(e){l((function(t){return Object(f.a)(Object(f.a)({},t),{},{content:e.target.value})}))}})]}),Object(b.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(b.jsx)("select",{class:"custom-select",id:"inputGroupSelect01"+i.id,onChange:function(e){l((function(t){return Object(f.a)(Object(f.a)({},t),{},{field:e.target.value})}))},children:["Sports","Economie","Politique"].map((function(e,t){return e==i.field?Object(b.jsx)("option",{value:e,selected:!0,children:e}):Object(b.jsx)("option",{value:e,children:e})}))})}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"image-file",children:"Add a photo"}),Object(b.jsx)("input",{type:"file",className:"form-control-file",id:"image-file"+i._id})]}),Object(b.jsx)("div",{className:"form-group px-5",children:Object(b.jsx)("div",{className:"container ",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col ",children:Object(b.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:r,children:" Update"})}),Object(b.jsx)("div",{className:"col ",children:Object(b.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:o,children:"Delete"})})]})})})]})})}function N(){var e=Object(n.useState)(1),t=Object(u.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(10),i=Object(u.a)(s,2),l=i[0],r=i[1],o=Object(n.useState)("all"),h=Object(u.a)(o,2),x=h[0],O=h[1],f=Object(n.useState)("date"),N=Object(u.a)(f,2),w=N[0],y=N[1],k=Object(n.useState)([]),C=Object(u.a)(k,2),S=C[0],F=C[1],E=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="http://localhost:9000/news?","all"!=x&&(t+="filter="+x),t+="&page="+c+"&limit="+l+"&sortby="+w,e.next=5,fetch(t);case 5:return n=e.sent,e.next=8,n.json();case 8:a=e.sent,console.log(a),F(a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=S.map((function(e){return Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)(g,{news:e},e.id)})}));Object(n.useEffect)(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E();case 1:case"end":return e.stop()}}),e)}))),[x,w,c,l]);var I=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c+t>0&&a(c+t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{class:"jumbotron jumbotron-fluid text-center",children:[Object(b.jsx)("h1",{class:"display-1",children:"this is admin news page"}),Object(b.jsx)(v,{})]}),Object(b.jsxs)("div",{className:"container  justify-content-center",children:[Object(b.jsx)("div",{className:"row text-center py-2 justify-content-center",children:Object(b.jsx)("h1",{className:"Display-1",children:"This is the news list "})}),Object(b.jsx)("div",{className:"row text-center py-5 justify-content-center",children:Object(b.jsx)(m,{changeLimitInf:function(e){r(e)},filter:function(e){O(e)},sort:function(e){y(e)}})}),Object(b.jsx)("div",{className:"row text-center my-2",children:P}),Object(b.jsx)(p,{page:c,setPager:I})]})]})})}var w=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)("header",{className:"App-header",children:Object(b.jsx)(l.a,{children:Object(b.jsx)("div",{children:Object(b.jsxs)(r.c,{children:[Object(b.jsx)(r.a,{path:"/home",children:Object(b.jsx)(x,{})}),Object(b.jsx)(r.a,{path:"/admin",children:Object(b.jsx)(N,{})}),Object(b.jsx)(r.a,{path:"/",children:Object(b.jsx)(O,{})})]})})})})})},y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,35)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(w,{})}),document.getElementById("root")),y()}},[[34,1,2]]]);
//# sourceMappingURL=main.6c17d3af.chunk.js.map